<!DOCTYPE html>
<html>
    <head>
    <!-- Title -->
    
    <title>
        CSS动画与JavaScript动画 | JackerJay杂记
    </title>
    
    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">
    
    <!-- Meta & INfo -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="JackerJay">
    <meta name="description" content="学习成长路">
    <meta name="keywords" content="null">
    
    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">
    
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="JackerJay杂记">
    
    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://jackerjay.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="CSS动画与JavaScript动画 | JackerJay杂记">
    <meta property="og:description" content="学习成长路">
    
     <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">
        
        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->
    
    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
	body, html{
		font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
	}
	
    a{
        color: #00838F
    }
    
    .mdl-card__media,
    #search-label,
    #search-form-label:after,
    #scheme-Paradox .hot_tags-count,
    #scheme-Paradox .sidebar_archives-count,
    #scheme-Paradox .sidebar-colored .sidebar-header,
    #scheme-Paradox .sidebar-colored .sidebar-badge{
        background-color: #0097A7 !important
    }
    
	/* Sidebar User Drop Down Menu Text Color */
	#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus{
        color: #0097A7 !important
    }
    
    #post_entry-right-info,
    .sidebar-colored .sidebar-nav li:hover > a,
    .sidebar-colored .sidebar-nav li:hover > a i,
    .sidebar-colored .sidebar-nav li > a:hover,
    .sidebar-colored .sidebar-nav li > a:hover i,
    .sidebar-colored .sidebar-nav li > a:focus i,
    .sidebar-colored .sidebar-nav > .open > a,
    .sidebar-colored .sidebar-nav > .open > a:hover,
    .sidebar-colored .sidebar-nav > .open > a:focus,
    #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a{
        color: #0097A7 !important
    }
    
    .toTop{
        background: #757575 !important
    }
		
	.material-layout .material-post>.material-nav,
	.material-layout .material-index>.material-nav,
	.material-nav a{
		color: #757575;
	}
		
	#scheme-Paradox .MD-burger-layer {
		background-color: #757575;
	}

	#scheme-Paradox #post-toc-trigger-btn{
		color: #757575;
	}
	
	.post-toc a:hover{
		color: #00838F;
		text-decoration: underline;
	}
</style>


<!-- Theme Background Related-->

    <style>
        body{
            background-color: #F5F5F5
        }
		
		/* blog_info bottom background */
        #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
            background-color: #fff;
        }
    </style>




<!-- Fade Effect -->

    <style>
        .fade {
            transition: all 800ms linear;
            -webkit-transform: translate3d(0,0,0);
            -moz-transform: translate3d(0,0,0);
            -ms-transform: translate3d(0,0,0);
            -o-transform: translate3d(0,0,0);
            transform: translate3d(0,0,0);
            opacity: 1;
        }

        .fade.out{
            opacity: 0;
        }
    </style>

	<script src="/js/jquery.min.js"></script>
	
	<link rel="stylesheet" href="/css/highlight/solarized-white.css">
	
	<!-- UC Browser Compatible-->
	<script>
		var agent = navigator.userAgent.toLowerCase();
		if(agent.indexOf('ucbrowser')>0) {
			document.write('<link rel="stylesheet" href="/css/uc.css">');
		   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
		}
	</script>
    <!-- Hotjar Tracking Code for http://jackerjay.cc -->
    <script>
			(function(h,o,t,j,a,r){
				h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
				h._hjSettings={hjid:478398,hjsv:5};
				a=o.getElementsByTagName('head')[0];
				r=o.createElement('script');r.async=1;
				r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
				a.appendChild(r);
			})(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    
    <!-- Custom Head -->
    
</head>
	
	

    <body id="scheme-Paradox">

		
        <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
				
			
			
            <!-- Main Container -->
            <main class="material-layout__content" id="main">
				
                <!-- Top Anchor -->
                <div id="top"></div>
				
				
                <!-- Hamburger Button -->
                <button class="MD-burger-icon sidebar-toggle">
                    <span class="MD-burger-layer"></span>
                </button>
				
				
                
	<!-- Back Button -->
<!--
	<div class="material-back" id="backhome-div" tabindex="0">
		<a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="#" onclick="window.history.back();return false;" target="_self" role="button" data-upgraded=",MaterialButton,MaterialRipple">
			<i class="material-icons" role="presentation">arrow_back</i>
			<span class="mdl-button__ripple-container">
				<span class="mdl-ripple"></span>
			</span>
		</a>
	</div>			
-->
	<!-- Left aligned menu below button -->
	<button id="post-toc-trigger-btn"
			class="mdl-button mdl-js-button mdl-button--icon">
	  <i class="material-icons">format_list_numbered</i>
	</button>

	<ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect"
		for="post-toc-trigger-btn">
			
			<ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#CSS动画的局限性"><span class="post-toc-number">1.</span> <span class="post-toc-text">CSS动画的局限性</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#CSS-animation"><span class="post-toc-number">2.</span> <span class="post-toc-text">CSS animation</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#用JavaScript包装过的CSS动画"><span class="post-toc-number">3.</span> <span class="post-toc-text">用JavaScript包装过的CSS动画</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#JavaScript动画"><span class="post-toc-number">4.</span> <span class="post-toc-text">JavaScript动画</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#缓动函数部分"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">缓动函数部分</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#缓动函数用户体验"><span class="post-toc-number">4.1.1.</span> <span class="post-toc-text">缓动函数用户体验</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#物理缓动"><span class="post-toc-number">4.1.2.</span> <span class="post-toc-text">物理缓动</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#cubic-bezier-缓动"><span class="post-toc-number">4.1.3.</span> <span class="post-toc-text">cubic-bezier 缓动</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#渲染部分"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">渲染部分</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#SVG线条动画"><span class="post-toc-number">5.</span> <span class="post-toc-text">SVG线条动画</span></a></li></ol>
		
<!--			<li class="mdl-menu__item">Some Action</li>-->
	</ul>


<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">
		
        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
	<!-- Paradox Post Header -->
	
		
			<!-- Random Thumbnail -->
			<div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
				<script>
    
    var randomNum;
    randomNum = Math.floor(Math.random() * 5 + 1);
    
    $(".post_thumbnail-random").css('background-image', 'url(' + '/img/random/' + randomNum + '.png' + ')');
    
</script>

		
	
        <p class="article-headline-p">
            CSS动画与JavaScript动画
        </p>
    </div>

	

				
				
					<!-- Paradox Post Info -->
					<div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
    
    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>JackerJay</strong>
        <span>2月 24, 2017</span>
    </div>
    
    <div class="section-spacer"></div>
	
    <!-- Favorite -->
<!--
    <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
        <i class="material-icons" role="presentation">favorite</i>
        <span class="visuallyhidden">favorites</span>
    </button>
-->
    
    <!-- Tags (bookmark) -->
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/CSS动画/">CSS动画</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/JavaScript动画/">JavaScript动画</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/React系统学习/">React系统学习</a>
    </ul>
    
    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    
    
    
    
    <!-- Share Twitter -->
    <a class="post_share-link" href="https://twitter.com/intent/tweet?text=CSS动画与JavaScript动画&url=https://jackerjay.github.io//2017/02/24/CSS动画与JavaScript动画/index.html&via=JackerJay" target="_blank">
        <li class="mdl-menu__item">
            分享到 Twitter
        </li>
    </a>
    
    <!-- Share Google+ -->
    <a class="post_share-link" href="https://plus.google.com/share?url=https://jackerjay.github.io//2017/02/24/CSS动画与JavaScript动画/index.html" target="_blank">
        <li class="mdl-menu__item">
            分享到 Google+
        </li>
    </a>
    
    <!-- Share Weibo -->
    <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=CSS动画与JavaScript动画&url=https://jackerjay.github.io//2017/02/24/CSS动画与JavaScript动画/index.html&pic=&searchPic=false&style=simple" target="_blank">
        <li class="mdl-menu__item">
            分享到微博
        </li>
    </a>
</ul>
</div>
				

                <!-- Post Content -->
                <div id="post-content" class="markdown-Github mdl-color-text--grey-700 mdl-card__supporting-text fade out">
	
		<h4 id="CSS动画的局限性"><a href="#CSS动画的局限性" class="headerlink" title="CSS动画的局限性"></a>CSS动画的局限性</h4><p>CSS动画的局限性如下所示：</p>
<ul>
<li><code>CSS</code>只支持<code>cubic-bezier</code>的缓动，如果你的动画对缓动函数有要求，就必须用<code>JavaScript</code>动画。</li>
<li><code>CSS</code>动画智能针对一些特有的CSS属性。仍然有一些属性<code>CSS</code>动画不支持的，例如<code>SVG</code>中<code>path</code>的<code>d</code>属性。</li>
<li><code>CSS</code>把<code>translate</code>、<code>rotate</code>、<code>skew</code>等都归结为一个属性——<code>transform</code>。因此，这些属性只能共用同一个缓动函数。例如，我们想要动画的轨迹是一条贝塞尔曲线，可以通过给<code>left</code>和<code>top</code>这两个属性加两个不同的<code>cubic-bezier</code>缓动来实现，但是<code>left</code>和<code>top</code>实现的动画性能不如<code>translateX</code>和<code>translateY</code>。</li>
</ul>
<h4 id="CSS-animation"><a href="#CSS-animation" class="headerlink" title="CSS animation"></a>CSS animation</h4><p><code>CSS transition</code>设计的非常简洁，因此适用于比较简单的动画。而<code>CSS animation</code>弥补了<code>transition</code>在控制上的不足。利用<code>CSS animation</code>，我们可以：</p>
<ul>
<li>使用多步动画（多关键帧动画）；</li>
<li>弥补<code>CSS transition</code>在控制上的不足，设置动画的反转、暂停、次数（可以设置为永久）等。</li>
</ul>
<h4 id="用JavaScript包装过的CSS动画"><a href="#用JavaScript包装过的CSS动画" class="headerlink" title="用JavaScript包装过的CSS动画"></a>用JavaScript包装过的CSS动画</h4><p>有些文章也把用<code>JavaScript</code>包装过的<code>CSS</code>动画归结为<code>JavaScript</code>动画，这样<code>CSS</code>动画的范畴就太小了。原生的<code>CSS</code>动画可以很方便地实现一些微互动，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">el &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">    </span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">        opacity: 0.8,</span><br><span class="line">        transition: opacity .4s ease;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>但是对于大多数情况而言，使用原生<code>CSS</code>动画，流程比较繁琐。首先，我们要给<code>DOM</code>节点在不同状态下加不同的复杂的<code>className</code>。然后在<code>CSS</code>中给不同的<code>className</code>写不同的样式以及动画逻辑。这里就有必要用<code>JavaScript</code>做一些包装，来做一些共同的逻辑，简化动画的开发。<br>这里我们介绍使用<code>react-smooth</code>库来写动画。它不仅支持<code>CSS</code>动画，也支持各种缓动类型的<code>JavaScript</code>动画，并且提供定制化缓动函数的插件入口：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Animate from=&#123;1&#125; to=&#123;0.8&#125; attributeName=&quot;opacity&quot;&gt;</span><br><span class="line">    // ...</span><br><span class="line">&lt;/Animate&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="JavaScript动画"><a href="#JavaScript动画" class="headerlink" title="JavaScript动画"></a>JavaScript动画</h4><p>这里将<code>JavaScript</code>动画定义为缓动函数用<code>JavaScript</code>实现的动画，因此<code>JavaScript</code>动画包含<strong>缓动函数部分</strong>和<strong>渲染部分</strong>。</p>
<h5 id="缓动函数部分"><a href="#缓动函数部分" class="headerlink" title="缓动函数部分"></a>缓动函数部分</h5><p>虽然<code>CSS</code>动画简单易用而且性能高，但是<code>JavaScript</code>动画依然有其必要性，而且也非常重要。而谈到<code>JavaScript</code>动画，不得不说一说缓动函数。</p>
<h6 id="缓动函数用户体验"><a href="#缓动函数用户体验" class="headerlink" title="缓动函数用户体验"></a>缓动函数用户体验</h6><p>从动画体验的角度来说，不同的缓动函数会带给用户不同的缓动体验。以我们常见的缓动函数<code>linear</code>、<code>ease</code>和<code>spring</code>为例，缓动体验一般为<code>linear</code>&lt;<code>ease</code>&lt;<code>spring</code>。<br>为什么这么说呢？<code>linear</code>、<code>ease</code>和<code>spring</code>其实刚好代表3种缓动函数类型。其中，<code>linear</code>是一种匀速运动，给人的感觉是机械、呆板、没有生机，只有工厂里的机器是保持速度一成不变的。人们喜欢有生命的运动。<br><code>ease</code>、<code>spring</code>都是变速运动，那么为什么<code>spring</code>的缓动体验要比<code>ease</code>更好呢？物理原则是优秀用户体验（UX）的核心原则之一，界面设计遵从物体在真实世界中的运动规律，会让人们感觉更加自然、舒适。<br><code>spring</code>是最经典、最常用的物理缓动过程。而<code>cubic-bezier</code>（三次贝塞尔曲线）因为具有很强的控制能力，人们可以非常简单、直观地配置一条<code>y - t</code>曲线作为缓动过程。因此，<code>spring</code>和<code>cubic-bezier</code>（如<code>ease</code>、<code>ease-in</code>、<code>ease-out</code>、<code>ease-in-out</code>、<code>linear</code>）在动画中最为常用。所以下面以<code>spring</code>为例探讨一种通用的物理缓动的实现方法，然后谈谈如何实现<code>cubic-bezier</code>的缓动过程。</p>
<h6 id="物理缓动"><a href="#物理缓动" class="headerlink" title="物理缓动"></a>物理缓动</h6><p>根据经典力学的观点，世界上所有的原子每时每刻仿佛都会根据当前速度、受力和位置计算出下一刻的速度、受力和位置。上帝有一台超级计算机吗？非也，计算机反而是我们利用原子的这些特征拼装出来的。不过现在，我们要用计算机，像上帝那样再创造一个世界。<br>物理缓动是模仿现实世界物理运动的缓动，我们可以先模拟物理规律，然后用最简洁的物理法则的表达式——物理公式来计算物理状态。一个简单的思路跃然纸上：  </p>
<ul>
<li>在每一帧中对动画对象进行受力分析，计算该帧动画对象的加速度；</li>
<li>如果知道该帧的速度、位置，就可以根据该帧的加速度、速度、位置，计算下一帧的速度、位置；</li>
<li>当我们知道第一帧的速度和位置，就可以像多米诺骨牌那样计算出动画对象每一帧的位置，任何物理缓动都可以这样完成。</li>
</ul>
<h6 id="cubic-bezier-缓动"><a href="#cubic-bezier-缓动" class="headerlink" title="cubic-bezier 缓动"></a>cubic-bezier 缓动</h6><p>物理缓动固然酷炫，但是<code>cubic-bezier</code>同样时一个非常优秀的缓动过程。<br><code>cubic-bezier</code>可以非常直观、方便地配置一条匀速运动的缓动曲线。由于<code>CSS</code>原生提供<code>cubic-bezier</code>的缓动函数，所以<code>cubic-bezier</code>在<code>Web</code>动画中得到大量使用。<br>或许<code>CSS</code>只提供了<code>cubic-bezier</code>也是考虑到了其实现较为复杂，属于计算密集型，并不适合用<code>JavaScript</code>来实现。但经我们实验统计后发现，<code>JavaScript</code>版的<code>cubic-bezier</code>函数平均时间仅为<code>0.33ms</code>。<br>利用<a href="https://github.com/recharts/react-smooth" target="_blank" rel="noopener"><code>react-smooth</code></a>实现<code>cubic-bezier</code>动画的代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Animate from=&#123;&#123;left: 0&#125;&#125; to=&#123;&#123;left: 10&#125;&#125; ease=&quot;ease&quot;&gt;</span><br><span class="line">    &#123;style =&gt; &lt;div style=&#123;style&#125;&gt;test&lt;/div&gt;&#125;</span><br><span class="line">&lt;/Animate&gt;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://cubic-bezier.com/" target="_blank" rel="noopener">英文版在线生成</a><br><a href="http://yisibl.github.io/cubic-bezier/#.17,.67,.83,.67" target="_blank" rel="noopener">中文版</a><br><a href="http://blog.csdn.net/joogle/article/details/7975118" target="_blank" rel="noopener"><code>cubic-bezier</code>原理</a></p>
<h5 id="渲染部分"><a href="#渲染部分" class="headerlink" title="渲染部分"></a>渲染部分</h5><p>渲染部分，可以在<code>View</code>层利用强大的<code>React</code>来帮助我们渲染。这样只要在缓动函数中执行<code>setState</code>来更新动画进度，从而触发页面重绘。</p>
<h4 id="SVG线条动画"><a href="#SVG线条动画" class="headerlink" title="SVG线条动画"></a>SVG线条动画</h4><p>说起<code>SVG</code>线条动画，最出名的恐怕是<a href="http://maxwellito.github.io/vivus/" target="_blank" rel="noopener"><code>vivus.js</code></a>，它巧妙的利用了<code>SVG path</code>的<code>stroke-dasharray</code>属性和<code>getTotalLength</code>方法。<br><code>stroke-dasharray</code>是设置<code>SVG path</code>虚线的属性。因此，要做一个简单的线条动画，只需：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">el &#123;</span><br><span class="line">    stroke-dasharray: 0, 1px;</span><br><span class="line">    </span><br><span class="line">    &amp;.active &#123;</span><br><span class="line">        stroke-dashoffset: totalLength, 0;</span><br><span class="line">        transition: stroke-dasharray .4s ease;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然而<code>vivus</code>有两个缺陷：</p>
<ul>
<li>它用<code>JavaScript</code>动画实现<code>stroke-dasharray</code>的缓动，而实际上<code>CSS</code>动画是支持<code>stroke-dasharray</code>属性的；</li>
<li><code>vivus</code>不支持虚线动画。<br>那么，如何利用<code>stroke-dasharray</code>来实现虚线动画呢？<br><code>stroke-dasharray</code>，顾名思义，其值是一个数组。因此，我们可以利用这一特性逐渐改变这个数组的长度，如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1px, 0px;</span><br><span class="line">2px, 0px;</span><br><span class="line">2px, 1px;</span><br><span class="line">2px, 2px, 1px;</span><br><span class="line">2px, 2px, 2px;</span><br><span class="line">2px, 2px, 2px, 1px;</span><br><span class="line">2px, 2px, 2px, 2px;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>要开发出好的动画，我们不仅要懂动画的设计，要有基本的数值分析及图形图像学知识，更重要的还是要能写出优雅的、可维护的、易扩展的代码。</p>
<blockquote>
<p>以上内容摘选自<a href="http://www.ituring.com.cn/book/1898" target="_blank" rel="noopener">《深入React技术栈》</a>——陈屹 P111+</p>
</blockquote>

	
	
	
	
</div>
				
				

                <!-- Post Comments -->
                
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
        <div class="ds-thread" 
            data-thread-key="2017/02/24/CSS动画与JavaScript动画/" 
            data-url="https://jackerjay.github.io/2017/02/24/CSS动画与JavaScript动画/"
            data-title="CSS动画与JavaScript动画"></div>
    <!-- 多说评论框 end -->
</div>



            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    
    <!-- Prev Nav -->
    
        <a href="/2017/03/31/BOM中的一些Tip/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/02/21/与React同生的Immutable/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>
        </div>
    </div>

				
				
					<!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay "></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored  sidebar-fixed-left" role="navigation">
	<div id="sidebar-main">
	    <!-- Sidebar Header -->
		<div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
    <i class="material-icons">clear_all</i>
    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="JackerJay's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        jackerjay@hotmail.com
        <b class="caret"></b>
    </a>
</div>

		<!-- Sidebar Navigation  -->
		<ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
			
                <li>
                    <a href="#" target="_blank" title="Email Me">
						<i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    <li id="sidebar-first-li">
        <a href="/" target="_self">
            <i class="material-icons sidebar-material-icons">home</i>
             主页
        </a>
    </li>

    <!-- I'm Feeling Lucky -->
<!--
    <li class="dropdown">
        <a href="" target="_self">
            <i class="material-icons sidebar-material-icons">explore</i>
             sidebar.imlucky
        </a>
    </li>
-->

	
    <!-- Archives  -->
    <li class="dropdown">
        <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
            <i class="material-icons sidebar-material-icons">inbox</i>
             归档
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li>
            <a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">4</span></a>
        </ul>
    </li>

    <!-- Divider -->
    <li class="divider"></li>


    <!-- Pages  -->
	

    <!-- Article Numebr  -->
    <li>
        <a href="/archives">
             文章总数
             <span class="sidebar-badge">22</span>
        </a>
    </li>
</ul>

		<!-- Sidebar Divider -->
		<div class="sidebar-divider"></div>

		<!-- Sidebar Footer -->
		<!-- 
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持。 :) 
-->

<!-- Theme Material -->
<a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
	<div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
		主题 - Material
		<span class="sidebar-badge badge-circle">i</span>
	</div>
</a>

<!-- Help & Support -->
<!--
<a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
		sidebar.help
		<span class="mdl-button__ripple-container">
			<span class="mdl-ripple"></span>
		</span>
	</div>
</a>
-->

<!-- Feedback -->
<!--
<a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.feedback
                    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>
-->

<!-- Abount Theme -->
<!--
<a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.about_theme
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>-->

	</div>
    
    <!-- Sidebar Sponsor -->
    


</aside>

				
				
				
					<!-- Footer Top Button -->
					<div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>
				
				
				<!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
	
	
		<!-- Paradox Footer Left Section -->
		<div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
    
    
    <!-- Facebook -->
    
    
    
    <!-- Google + -->
    
    
    
    <!-- Weibo -->
    
    
    
    <!-- Instagram -->
    
    
    
    <!-- Tumblr -->
    
    
    
    <!-- Github -->
    
    <a href="http://github.com/jackerjay" target="view_window"><button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
        <span class="visuallyhidden">Github</span>
    </button></a>
    
</div>


		<!--Copyright-->
		<div id="copyright">Copyright&nbsp;©&nbsp;<script type="text/javascript">var fd = new Date();document.write(fd.getFullYear());</script>&nbsp;JackerJay杂记</div>

		<!-- Paradox Footer Right Section -->

		<!-- 
		I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright.
		It will not impact the appearance and can give developers a lot of support :)

		很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
		它不会影响美观并可以给开发者很大的支持。 :) 
		-->

		<div class="mdl-mini-footer--right-section">
			<div>
				<div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
				<div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
			</div>
		</div>
	
    
</footer>
                
				<!-- Import File -->
<script src="/js/highlight.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    
    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });
    
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>








    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"null"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = 'https://static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] 
             || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共 js 代码 end -->




<!-- Swiftye -->


<!-- Local Search-->


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $(".post-toc-wrap").parent(".mdl-menu__container").css("position", "fixed");
    });
</script>

<!-- MathJax Load-->

            </main>
        </div>
		
    </body>
		
	
</html>
